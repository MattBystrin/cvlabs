#Алгоритмы поиска иображений

##Template matching

Этот алгоритм поиска основан на попиксельном сравнении. Шаблон "накладываеься"
на исходное изображение и высчитывается некоторая метрика, показывающая как
сильно отличаются пиксели одного изображения от другого.
Данно сравнение проводится для каждого пикселя исходного изобраения. В качестве
метрики может использоваться корреляционная или квадратичная функция.

Плюсом алгоритма является простота реализации. К минусам можно отнести то, что
алгоритм сильно чувствителен к масштабированию и поворотам.

## ORB
Алгоритм является более сложным. Перед выполнением поиска, сначала на
изображениях определяются опорные точки. Делается это следующим образом. На
изображении выбирается пиксель. И в его радиусе 4 выбирается 16 пикселей.
Пиксели разбиваются на 3 категории: те, что ярче центра, такие же и те, что
темнее. Если более 8 пикселей темнее или светлее центра, то точка выбирается,
как опорная. Данная операция хорошо поддается распарралеливанию.

Исходные изображение сжимается в 2, 4 и 8 раз. И операция поиска опорных точек
продолжается. Таким образом достигается независимоть от масштаба.

Далее для каждой точки вычисляется ориентация

После вычисляется BRIEF дескриптор. Это длеается путем случайной выборки
пикселей из некоторой окресности якорной точки. Для того, чтобы предтвратить
влияние высокочастотчных шумов, изображение пред этим размывается в
использование размытия Гаусса.

Далее BRIEF дескриптор сдвигается в зависимости от угла ориентации опорной точки
таким образом минимизируется влияние разности ориентации обьекта на шаблоне и
исходном сообщении.

##Тестирование и сравнение алгоритмов

Для тестирования алгоритма берется одно исходное изображение, из которого
вырезаются шаблоны под углом и без. Шаблоны, вырезанные без поворота
масштабируются. Далее производится поиск полученных шаблонов на исходном
изображении. Для генерации изобржаений используется скрипт `generate.sh`.

![Image](img/normal_corners.jpg)
![Image](img/baked/m_normal_corners.jpg)
![Image](img/baked/orb_normal_corners.jpg)
![Image](img/rotated_corners.jpg)
![Image](img/baked/m_rotated_corners.jpg)
![Image](img/baked/orb_rotated_corners.jpg)
![Image](img/rotated2_corners.jpg)
![Image](img/baked/m_rotated2_corners.jpg)
![Image](img/baked/orb_rotated2_corners.jpg)
![Image](img/scale05_corners.jpg)
![Image](img/baked/m_scale05_corners.jpg)
![Image](img/baked/orb_scale05_corners.jpg)
![Image](img/scale2_corners.jpg)
![Image](img/baked/m_scale2_corners.jpg)
![Image](img/baked/orb_scale2_corners.jpg)

![Image](img/normal_cup.jpg)
![Image](img/baked/m_normal_cup.jpg)
![Image](img/baked/orb_normal_cup.jpg)
![Image](img/rotated_cup.jpg)
![Image](img/baked/m_rotated_cup.jpg)
![Image](img/baked/orb_rotated_cup.jpg)
![Image](img/scale05_cup.jpg)
![Image](img/baked/m_scale05_cup.jpg)
![Image](img/baked/orb_scale05_cup.jpg)
![Image](img/scaled2_cup.jpg)
![Image](img/baked/m_scaled2_cup.jpg)
![Image](img/baked/orb_scaled2_cup.jpg)
